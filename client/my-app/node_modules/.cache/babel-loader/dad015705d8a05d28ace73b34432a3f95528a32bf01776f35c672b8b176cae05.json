{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ayush\\\\Downloads\\\\Socket Demo App\\\\Socket Demo App\\\\client\\\\my-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { socket } from \"./context/socket\";\nimport style from \"style/app.module.scss\";\nimport { Hand, Scoreboard, Roomcode, Picker, Results, Errors } from \"components\";\nimport Menu from \"pages/Menu\";\nimport \"style/global.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  var _playerOne, _playerOne2, _playerOne3, _playerOne4, _playerTwo, _playerTwo2, _playerTwo3, _playerTwo4, _playerOne5, _playerTwo5;\n  const [players, setPlayers] = useState({\n    players: {}\n  });\n  const [winner, setWinner] = useState(false);\n  const [room, setRoom] = useState(\"\");\n  const [color, setColor] = useState(undefined);\n  const path = window.location.pathname.replace(/^.+\\//, \"\");\n  useEffect(() => {\n    socket.on(\"players\", (playerData, room) => {\n      setPlayers(playerData);\n      setRoom(room);\n      window.history.replaceState(\"\", \"\", room);\n    });\n    socket.on(\"rps-winner\", gameWinner => {\n      setTimeout(() => {\n        setWinner(gameWinner);\n        setTimeout(() => {\n          setWinner(false);\n          socket.emit(\"rps-reset\");\n        }, 3000);\n      }, 3000);\n    });\n  }, []);\n  let playerOne, playerTwo;\n  if (Object.keys(players.players).length >= 1) {\n    playerOne = Object.entries(players.players)[0][1];\n    if (Object.keys(players.players).length === 2) {\n      playerTwo = Object.entries(players.players)[1][1];\n    }\n  }\n  const callback = useCallback(colors => {\n    setColor(colors);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.background,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.pattern\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.pattern\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.pattern\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Results, {\n      winner: winner,\n      draw: winner === \"draw\" ? true : false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Roomcode, {\n      code: room\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Scoreboard, {\n      playerOne: playerOne,\n      playerTwo: playerTwo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.hands,\n      children: [/*#__PURE__*/_jsxDEV(Hand, {\n        left: true,\n        color: (_playerOne = playerOne) === null || _playerOne === void 0 ? void 0 : _playerOne.color,\n        type: winner ? (_playerOne2 = playerOne) === null || _playerOne2 === void 0 ? void 0 : _playerOne2.choice : \"rock\",\n        active: (_playerOne3 = playerOne) !== null && _playerOne3 !== void 0 && _playerOne3.choice ? true : false,\n        moving: (_playerOne4 = playerOne) !== null && _playerOne4 !== void 0 && _playerOne4.choice && (_playerTwo = playerTwo) !== null && _playerTwo !== void 0 && _playerTwo.choice ? winner ? false : true : false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Hand, {\n        left: false,\n        color: (_playerTwo2 = playerTwo) === null || _playerTwo2 === void 0 ? void 0 : _playerTwo2.color,\n        type: winner ? (_playerTwo3 = playerTwo) === null || _playerTwo3 === void 0 ? void 0 : _playerTwo3.choice : \"rock\",\n        active: (_playerTwo4 = playerTwo) !== null && _playerTwo4 !== void 0 && _playerTwo4.choice ? true : false,\n        moving: (_playerOne5 = playerOne) !== null && _playerOne5 !== void 0 && _playerOne5.choice && (_playerTwo5 = playerTwo) !== null && _playerTwo5 !== void 0 && _playerTwo5.choice ? winner ? false : true : false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Picker, {\n      color: color,\n      active: winner\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Menu, {\n      parentCallback: callback,\n      active: room ? false : true,\n      path: path\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Errors, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"YQEbKmiO3Rk6l0t6W+R3SAYuRVs=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","socket","style","Hand","Scoreboard","Roomcode","Picker","Results","Errors","Menu","App","players","setPlayers","winner","setWinner","room","setRoom","color","setColor","undefined","path","window","location","pathname","replace","on","playerData","history","replaceState","gameWinner","setTimeout","emit","playerOne","playerTwo","Object","keys","length","entries","callback","colors","background","pattern","hands","choice"],"sources":["C:/Users/ayush/Downloads/Socket Demo App/Socket Demo App/client/my-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { socket } from \"./context/socket\";\nimport style from \"style/app.module.scss\";\nimport { Hand, Scoreboard, Roomcode, Picker, Results, Errors } from \"components\";\nimport Menu from \"pages/Menu\";\nimport \"style/global.scss\";\n\nexport default function App() {\n\n    const [players, setPlayers] = useState({ players: {} });\n    const [winner, setWinner] = useState(false);\n    const [room, setRoom] = useState(\"\");\n    const [color, setColor] = useState(undefined);\n\n    const path = window.location.pathname.replace(/^.+\\//, \"\");\n\n    useEffect(() => {\n        socket.on(\"players\", (playerData, room) => {\n            setPlayers(playerData);\n            setRoom(room);\n            window.history.replaceState(\"\", \"\", room);\n        })\n\n        socket.on(\"rps-winner\", (gameWinner) => {\n            setTimeout(() => {\n                setWinner(gameWinner);\n                setTimeout(() => {\n                    setWinner(false);\n                    socket.emit(\"rps-reset\");\n                }, 3000);\n            }, 3000);\n        })\n    }, []);\n\n    let playerOne, playerTwo;\n\n    if (Object.keys(players.players).length >= 1) {\n        playerOne = Object.entries(players.players)[0][1];\n\n        if (Object.keys(players.players).length === 2) {\n            playerTwo = Object.entries(players.players)[1][1];\n        }\n    }\n\n    const callback = useCallback((colors) => {\n        setColor(colors);\n    }, [])\n\n    return (\n        <>\n            <div className={style.background}>\n                <div className={style.pattern}></div>\n                <div className={style.pattern}></div>\n                <div className={style.pattern}></div>\n            </div>\n            <Results\n                winner={winner}\n                draw={winner === \"draw\" ? true : false}\n            />\n\n            <Roomcode code={room} />\n            <Scoreboard playerOne={playerOne} playerTwo={playerTwo} />\n\n            <div className={style.hands}>\n                <Hand\n                    left={true}\n                    color={playerOne?.color}\n                    type={winner ? playerOne?.choice : \"rock\"}\n                    active={playerOne?.choice ? true : false}\n                    moving={playerOne?.choice && playerTwo?.choice ? (winner ? false : true) : false}\n                />\n                <Hand\n                    left={false}\n                    color={playerTwo?.color}\n                    type={winner ? playerTwo?.choice : \"rock\"}\n                    active={playerTwo?.choice ? true : false}\n                    moving={playerOne?.choice && playerTwo?.choice ? (winner ? false : true) : false}\n                />\n            </div>\n\n            <Picker color={color} active={winner} />\n            <Menu parentCallback={callback} active={room ? false : true} path={path} />\n            <Errors />\n        </>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}